import base64
exec(base64.b64decode('ZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUKaW1wb3J0IHJlcXVlc3RzCmltcG9ydCBvcwppbXBvcnQgdGltZQoKb3Muc3lzdGVtKCJjbGVhciIpCnByaW50KCJTZWphIGJlbS12aW5kbyBhbyBUZXJtdUdwdCIpCnRpbWUuc2xlZXAoMykKb3Muc3lzdGVtKCJjbGVhciIpCk5vbWUgPSBpbnB1dCgiSW5mb3JtZSBvIHNldSBub21lOlxuIikKcHJpbnQoIkNvbGV0YW5kbyBpbmZvcm1hw6fDtWVzLi4uIikKdGltZS5zbGVlcCgzKQpwcmludCgiVm9jZSBlc3RhIHByb250byBwcmEgZmF6ZXIgc3VhcyBwZXJndW50YXMuIikKdGltZS5zbGVlcCgzKQpwcmludCgiT2xhIiwgTm9tZSkKdGltZS5zbGVlcCgzKQpvcy5zeXN0ZW0oImNsZWFyIikKcHJpbnQoIlRlcm11R3B0IGFvIHNldSBkaXNwb3IsIFBlcmd1bnRlIG9xdWUgcXVpc2VyLiBDb2RlZCBieTogQEZyZWUkdHlsZSIpCnRpbWUuc2xlZXAoMykKCnVybCA9ICdodHRwczovL2FlbXQubWUvZ3B0NCcKZGV2ID0gIk1lIHJlc3BvbmRhIGVtIHBvcnR1Z3Vlcy4iCgp3aGlsZSBUcnVlOgogICAgcHJpbnQoKQogICAgSCA9IGRhdGV0aW1lLm5vdygpCiAgICBwcmludCgiSG9yYXJpbyBkZWNvcnJlbnRlIC0+IiwgSCkKICAgIHByaW50KCJDYXNvIHF1ZWlyYSBsaW1wYXIgdGVsYSBkaWdpdGUgLT4gbGltcGFyIikKICAgIHByaW50KCkKICAgIHBlciA9IGlucHV0KCJJbmZvcm1lIHN1YSBwZXJndW50YSAoZGlnaXRlICdzYWlyJyBwYXJhIGVuY2VycmFyKTpcbiIpCiAgICBpZiBwZXIubG93ZXIoKSA9PSAnc2Fpcic6CiAgICAgICAgcHJpbnQoIkVuY2VycmFuZG8gbyBwcm9ncmFtYS4uLiIpCiAgICAgICAgYnJlYWsKICAgIGlmIHBlci5sb3dlcigpID09ICdsaW1wYXInOgogICAgICAgIG9zLnN5c3RlbSgiY2xlYXIiKQogCiAgICBwYXJhbXMgPSB7J3RleHQnOiBkZXZ9CiAgICBwYXJhbXNbJ3RleHQnXSA9IHBlciArICJmYWxlIGVtIHB0IGJyIgogICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQodXJsLCBwYXJhbXM9cGFyYW1zKQogICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQodXJsLCBwYXJhbXM9cGFyYW1zKQoKICAgIGlmIHJlc3BvbnNlLnN0YXR1c19jb2RlID09IDIwMDoKICAgICAgICBkYXRhID0gcmVzcG9uc2UuanNvbigpCiAgICAgICAgaWYgInJlc3VsdCIgaW4gZGF0YToKICAgICAgICAgICAgcmVzdWx0c19kYXRhID0gZGF0YVsicmVzdWx0Il0KICAgICAgICAgICAgcHJpbnQocmVzdWx0c19kYXRhKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50KCJEYWRvcyBkZSB0ZXh0byBuw6NvIGVuY29udHJhZG9zIGVtICdyZXN1bHRzJy4iKQogICAgZWxzZToKICAgICAgICBwcmludCgnSG91dmUgdW0gcHJvYmxlbWEgYW8gZmF6ZXIgYSBzb2xpY2l0YcOnw6NvLicpCg=='))
